<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.100.2" />
    <meta name="generator" content="Relearn 4.0.4&#43;tip">
    <meta name="description" content="Documentation for the critically belated ARPG Aonahara Downfall">
    <meta name="author" content="Aonahara Resistance">
    <title>Prosperosus Documentation :: Prosperosus Doc</title>
    <link rel="canonical" type="text/html" href="/" title="Prosperosus Doc" />
    <link rel="alternate" type="application/rss&#43;xml" href="/index.xml" title="Prosperosus Doc" />
    <link href="/css/nucleus.css?1669134270" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1669134270" rel="stylesheet">
    <link href="/css/featherlight.min.css?1669134270" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1669134270" rel="stylesheet">
    <link href="/css/auto-complete.css?1669134270" rel="stylesheet">
    <link href="/css/theme.css?1669134270" rel="stylesheet">
    <link href="/css/theme-relearn-dark.css?1669134270" rel="stylesheet" id="variant-style">
    <link href="/css/ie.css?1669134270" rel="stylesheet">
    <link href="/css/variant.css?1669134270" rel="stylesheet">
    <link href="/css/print.css?1669134270" rel="stylesheet">
    <script src="/js/variant.js?1669134270"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="/index.json";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/example.com/';
      variants.init( [ 'relearn-dark' ] );
    </script>
    <script src="/js/jquery.min.js?1669134270"></script>

  </head>
  <body class="mobile-support print" data-url="/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div class="navigation">
             <a class="nav nav-next" href="/general/" title="General (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a>
          </div>
          <div class="navigation">
             <span class="nav nav-prev"><i class="fa fa-chevron-left fa-fw"></i></span>
          </div>
          <div id="top-print-link">
            <a class="print-link" title='Print whole chapter (CTRL+ALT+p)' href="/_print/">
              <i class="fas fa-print fa-fw"></i>
            </a>
          </div>
          <div id="top-github-link">
            <a class="github-link" title='Edit (CTRL+ALT+e)' href="https://github.com/Aonahara-Resistance/Aonahara-Downfall-Doc-Generator/edit/main/content//_index.en.md" target="blank">
              <i class="fas fa-pen fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <meta itemprop="itemListOrder" content="Descending" />
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="1" /><a itemprop="item" href="/" aria-disabled="true"><span itemprop="name">Prosperosus Documentation</span></a></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#main-contents">Main contents</a></li>
    <li><a href="#become-a-contributor">Become a contributor</a></li>
    <li><a href="#getting-support">Getting support</a></li>
    <li><a href="#credits">Credits</a></li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
    
          <article>

<h1 id="prosperosus-official-documentation">Prosperosus Official Documentation</h1>
<p>This documentation website is created to be the &ldquo;source of truth&rdquo; of our knowledge base, we have a lot of resources and information scattered around and it&rsquo;s getting somehwat difficult to find which one is true.</p>
<p>This doesn&rsquo;t render the existing docs deprecated, they&rsquo;re still relevant the main purpose of this site is to group them nicely in a single place not to replace them, almost all of th information here is taken from the scattered docs anyway lel, just as a rule of thumb if there are conflicting information please refer to the one this site.</p>

<div class="box notices cstyle info">
    <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
    <div class="box-content">
<p>the doc will be using prosperosus and Aonahara Downfall interchangeably</p>
    </div>
</div>
<h2 id="main-contents">Main contents</h2>
<ul>
<li>Design Documentation</li>
<li>Technical Documentation</li>
</ul>
<h2 id="become-a-contributor">Become a contributor</h2>
<p>Oh yeah btw this is open for everyone, so feel free to update this documentation by just clicking the <strong>Edit</strong> link displayed on top right of each page. Your changes will be deployed automatically once they were reviewed.</p>
<h2 id="getting-support">Getting support</h2>
<p>To get support, regarding this doc or anything about the game just pick up your banana phone and ring posei.</p>
<h2 id="credits">Credits</h2>
<p>site created with the epic <a href="https://gohugo.io/">Hugo</a><br>
epic aonaharian and prosperosus bros who made all of this possible</p>

            <footer class="footline">
            </footer>
          </article>
          <section>
    
          <article>

<h1>General</h1>
<p>General information regarding Aonahara: Downfall</p>
<h2 id="toc">ToC</h2>
<ul>
<li><a href="/general/introduction/">Introduction</a></li>
<li><a href="/general/milestones/">Mielstones</a></li>
</ul>

            <footer class="footline">
            </footer>
          </article>
          <section>
    
          <article>

<h1>Introduction</h1>
<h3 id="about">About</h3>
<p>Aonahara: Downfall or project prosperosus is a game born from a joke (just like everything in Aonahara), after going thorugh multiple genre shift the game finally settled as an ARPG combined with Bullet Hell, Fn like to describe it as soul knight ish bullet hell.</p>
<p>The idea was born around late march 2021, at first there was only one person working on it however during december 2021 there was a <em>somewhat</em> open recruitment and since then a fair amount of people joined the unpaid labor, which help boost the game progress by a lot.</p>
<p>As of now the game is still in development and it looks like the sky is still as far as the eye can see but we are certain someday we&rsquo;ll reach it.</p>
<h3 id="who-is-directly-involved">Who is directly involved</h3>
<pre>
Ashu.mf	| Concept Artist  
Emuu	| Character Artist  
Fn	| Pixel Artist  
Henry	| Designer  
Jason	| Designer, Manager, Tester  
Khanh	| Chracter Artist  
Kitsune	| Developer, Kon-sultant  
Meika	| Proofreader  
Moon	| Writer  
Nitsu	| Designer, Tester, Proofreader  
posei	| Developer
</pre>
<h3 id="outsourced-help">Outsourced Help</h3>
<pre>
Belaga	| Consultant  
Soggy	| Consultant  
</pre>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Milestones</h1>
<p>To see how far we&rsquo;ve come and how close is our imminent victory</p>
<h3 id="span-stylecolor82e550early-buildspan"><span style="color:#82E550">Early Build</span></h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Movement</li>
<li><input checked="" disabled="" type="checkbox"> Basic Enemy</li>
<li><input checked="" disabled="" type="checkbox"> Character Base</li>
<li><input checked="" disabled="" type="checkbox"> Basic Combat</li>
</ul>
<h3 id="span-stylecolor82e550playablespan"><span style="color:#82E550">Playable</span></h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Early Characters</li>
<li><input checked="" disabled="" type="checkbox"> Skill System</li>
<li><input checked="" disabled="" type="checkbox"> Buff and Blessing</li>
</ul>
<h3 id="span-stylecolored9909combat-readyspan"><span style="color:#ED9909">Combat Ready</span></h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> Consumables</li>
<li><input checked="" disabled="" type="checkbox"> Modular Levels</li>
<li><input disabled="" type="checkbox"> Firing Range</li>
<li><input checked="" disabled="" type="checkbox"> Cheat Pannel</li>
<li><input disabled="" type="checkbox"> Flushed Out Enemy AI</li>
<li><input disabled="" type="checkbox"> Inventory</li>
<li><input disabled="" type="checkbox"> Equipment</li>
</ul>
<h3 id="span-stylecolore03e3efeature-completespan"><span style="color:#E03E3E">Feature Complete</span></h3>
<ul>
<li><input disabled="" type="checkbox"> Leveling</li>
<li><input disabled="" type="checkbox"> Shop</li>
<li><input disabled="" type="checkbox"> Boss Fight</li>
<li><input disabled="" type="checkbox"> Quest</li>
<li><input disabled="" type="checkbox"> Limit Break<br>
&hellip;</li>
</ul>
<h3 id="span-stylecolore03e3econtent-completespan"><span style="color:#E03E3E">Content Complete</span></h3>
<p><img src="https://media.discordapp.net/stickers/927355731588554822.webp?size=2048" alt=""></p>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Godot 4 Migration</h1>
<p>The entire code of the pre-alpha combat ready will be migrated to Godot 4, We&rsquo;ve tried to migrate it without a document and just bulldoze through it but it doesn&rsquo;t work well.</p>
<h2 id="why">Why</h2>
<p>To put it simply Godot 4 will fix a lot of the issues that we&rsquo;re facing right now. Altho it might quite sometime to migrate I (posei) firmly believe it&rsquo;ll be better in the long run. Lastly it&rsquo;ll be a good opportunity to revamp the code architecture, and with that I think we&rsquo;re going to be increase the development speed by a lot lot.</p>
<h2 id="how">How</h2>
<p>We&rsquo;ll start with Listing the features we already implemented and its current state.<br>
Then, we will arrange the order of which one we&rsquo;ll be migrated first.<br>
After deciding what needs to be done in order we&rsquo;ll then make a requirement for the migration.<br>
Then the migration will commence.<br>
Lastly we&rsquo;ll polish the rough edges and we&rsquo;re finished.</p>
<h2 id="things-to-migrate">Things to migrate</h2>
<h4 id="common--uncategorised">Common / Uncategorised</h4>
<ul>
<li><input checked="" disabled="" type="checkbox"> Hitbox</li>
<li><input checked="" disabled="" type="checkbox"> Hurtbox</li>
<li><input checked="" disabled="" type="checkbox"> StateMachine</li>
<li><input disabled="" type="checkbox"> Utils</li>
<li><input disabled="" type="checkbox"> Interaction</li>
<li><input disabled="" type="checkbox"> Dialog</li>
<li><input disabled="" type="checkbox"> Loading Screen</li>
<li><input disabled="" type="checkbox"> Modifier (buff / debuff)</li>
<li><input checked="" disabled="" type="checkbox"> Camera Shake</li>
</ul>
<h4 id="character">Character</h4>
<ul>
<li>
<p><input disabled="" type="checkbox"> Base Character</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Movement</li>
<li><input disabled="" type="checkbox"> Blinker</li>
<li><input checked="" disabled="" type="checkbox"> Dash</li>
<li><input checked="" disabled="" type="checkbox"> Basic Attack</li>
<li><input disabled="" type="checkbox"> Skills</li>
</ul>
</li>
<li>
<p>Nom-nom</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Cum Stained Sword</li>
<li><input disabled="" type="checkbox"> Get Excited</li>
<li><input disabled="" type="checkbox"> Scrilspeokr</li>
</ul>
</li>
<li>
<p>Emuuwa</p>
<ul>
<li><input disabled="" type="checkbox"> Parseid Staff</li>
<li><input disabled="" type="checkbox"> Golder Shower</li>
<li><input disabled="" type="checkbox"> BDSM</li>
</ul>
</li>
</ul>
<h4 id="firing-range">Firing Range</h4>
<ul>
<li><input disabled="" type="checkbox"> Buff Selector</li>
<li><input disabled="" type="checkbox"> Cheat Panel</li>
</ul>
<h4 id="menus">Menus</h4>
<ul>
<li><input disabled="" type="checkbox"> Splash Screen</li>
<li><input disabled="" type="checkbox"> Main Menu</li>
</ul>
<h4 id="party">Party</h4>
<h4 id="enemy">Enemy</h4>
<ul>
<li><input checked="" disabled="" type="checkbox"> Base Enemy</li>
<li><input checked="" disabled="" type="checkbox"> Green Slime</li>
</ul>
<h2 id="things-to-migrate-in-order">Things to migrate (in order)</h2>
<p>Chunk 1</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Character Movement</li>
<li><input checked="" disabled="" type="checkbox"> State Machine</li>
<li><input disabled="" type="checkbox"> Character Dash</li>
<li><input disabled="" type="checkbox"> Basic Attack</li>
<li><input disabled="" type="checkbox"> Cum Stained Sword</li>
<li><input disabled="" type="checkbox"> Hitbox</li>
<li><input disabled="" type="checkbox"> Hurtbox</li>
<li><input disabled="" type="checkbox"> Base Enemy</li>
<li><input disabled="" type="checkbox"> Green Slime</li>
<li><input disabled="" type="checkbox"> Camera Shake</li>
</ul>
<p>Requirements:</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> State Machine Research</li>
<li><input disabled="" type="checkbox"> Behavioural Tree Research</li>
</ul>

            <footer class="footline">
            </footer>
          </article>
          </section>
    
          <article>

<h1>Game Design</h1>
<p>This page will provide all the information regarding game design, from design guidelines to the design output, all of that should be included here.</p>
<p>This page will be properly maintained to eliminate confusion among the designers, so please prefer to this over any other scattered docs out there.</p>

            <footer class="footline">
            </footer>
          </article>
          <section>
    
          <article>

<h1>Blessing</h1>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Boss</h1>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Character</h1>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Consumable</h1>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Enemy</h1>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Weapon</h1>

            <footer class="footline">
            </footer>
          </article>
          </section>
    
          <article>

<h1>Development</h1>
<p>The development doc will primary be about the safety and regulations of this world class <del>ravioli</del> spaghet factory, the safety and regulations exist to prevent anyone to make a spaghet that&rsquo;s too spaghet which will result in death by a thousand cuts.</p>
<p>In all seriousness we should try our best to follow these guidelines because the code will be around for a while until we can ditch it and if we&rsquo;re not careful it can result into a nasty productivity drop.</p>
<p>I hate to say this but unfortunately this will only prevent the code to become less spaghet and not to eradicate the entire spaghet, every pattern and paradigm come with consequences, even the perfect combinations of patterns will still result in some drawbacks but it&rsquo;s still better than not using any pattern at all.</p>

<div class="box notices cstyle tip">
    <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
    <div class="box-content">
<p>Our responsibility is not to create the greatest the most modular scratch free architecture but to create a working game, so if there&rsquo;s some imperfection here and there it&rsquo;s perfectly fine if the game runs.</p>
    </div>
</div>

            <footer class="footline">
            </footer>
          </article>
          <section>
    
          <article>

<h1>Design Philosopy</h1>
<p>It&rsquo;s a developer wet dream to be able to build a highly decoupled system that allow new features to just slot in flawlessly without disturbing existing one. However, that&rsquo;s rather difficult to achieve, even if somewhow we&rsquo;re able to, it will certainly come with a cost like any other.</p>
<p>Ok then what&rsquo;s the approach we should take to tackle this delicate matter?<br>
okay first we&rsquo;ll have to list our priorities</p>
<ul>
<li>Rapid feature release</li>
<li>Ease of tweaking</li>
<li>Maintainability of said features</li>
</ul>
<p>My answer is to combine the speed of mobile warfare and the organization of grand battle plan, is that even possible?<br>
Yes, I call it the <strong>Nimble Forsythia</strong>.</p>
<p>In short this <del>war doctrine</del> design philosopy start with anticipating apparent problems and ignoring scary but vague problems and then goes into full speed while doing a little cleaning along the way by the end of a major patch we&rsquo;ll take a brake and see if there&rsquo;s new apparent problem and then adress it if there&rsquo;s any.</p>
<p>There&rsquo;s three main component to this philosopy</p>
<ul>
<li>Compound Battle Plan</li>
<li>Relentless Execution</li>
<li>Litter pick-up</li>
</ul>
<h3 id="compound-battle-plan">Compound Battle Plan</h3>
<p>In traditional SDLC the planning will be done once at the start of the project, However we&rsquo;ll do it after every major patch.<br>
Contrary to other software project we don&rsquo;t have the luxury of knowing everything at the very beginning, so to cope with that we&rsquo;ll do smaller design phase multiple times.</p>
<p>This short planning phase will result in faster features being done but if we&rsquo;re not careful the whole thing can crumble, that&rsquo;s where the Litter Pick-up and the <em>compound</em> part come into play.</p>
<p>After the end of every major patch, the code will start to tangle into spaghet but it won&rsquo;t be too spaghet, Litter Pick-up will clean the smaller spaghet and the planning phase at the start of the next cycle will fix glaring architectural problems.</p>
<h3 id="relentless-execution">Relentless Execution</h3>
<p>After the planning phase is completed we&rsquo;re going to switch into full flank speed and try to follow the set guidelines but don&rsquo;t show any hesitation don&rsquo;t think of problems that <em>might</em> come in the future.</p>
<p>But isn&rsquo;t this dangerous? Yes, but our first priority is to ship the features first so it&rsquo;s fine and also there&rsquo;s two percautions set in place to prevent too much damage which are:</p>
<ul>
<li>Unit testing</li>
<li>Litter Pick-up</li>
</ul>
<p>Unit testing discourage us from coupling system too much, because well the test won&rsquo;t run if the scene can&rsquo;t work by itself.<br>
And Litter Pick-up untangle mess before it reach a critical point.</p>
<h3 id="litter-pick-up">Litter Pick-up</h3>
<p>To put it simply Litter-pickup is a refactoring process that&rsquo;s being done after every feature release which focus on cleaning the small but numerous mess we&rsquo;ve created during the creation of said feature.</p>

<div class="box notices cstyle info">
    <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
    <div class="box-content">
<p>This refactoring process focus on cleaning little spaghet tomfoolery instead of the bigger architectural problems.</p>
    </div>
</div>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Code Guidelines</h1>
<h3 id="forced-static-typing">Forced Static Typing</h3>
<p>Unfortunately GDScript Static Typing isn&rsquo;t mandatory even when the optional Static Typing is turned on it&rsquo;s still not forced which <del>is not aligned with our M mindset</del> can lead into some weird unwanted behavior.</p>
<p>Our only option is to force it ourself, but sometimes as a human we forgor and that&rsquo;s ogey just add the type on the Litter Pick-up phase.</p>
<h3 id="naming-convention">Naming Convention</h3>
<pre>
class		= PascalCase  
node		= PascalCase  
scene		= PascalCase

variable	= snake_case  
function	= snake_case  
file		= snake_case  
</pre>
<h3 id="access-modifier">Access Modifier</h3>
<p>GDScript doesn&rsquo;t really have an Access Modifier so this is just a convention to mark stuff therefore this will not effect the code in any way.</p>
<p>To mark a variable as private prefix it with an underscore.<br>
leave public and protected variable as is.</p>
<p>Method doesn&rsquo;t have an access modifier, a method with underscore prefix indicate that it&rsquo;s somekind of callback function and not a private metod.
If an object can access another object method then it&rsquo;s either safe to do so or there&rsquo;s something wrong with the architecture, as a rule of thumb if the method you&rsquo;re trying to access is part of the local scene tree then it&rsquo;s fine to access it but if it&rsquo;s not please proceed with caution.</p>
<h3 id="getter-setter">Getter Setter</h3>
<p>Only create getter setter when there&rsquo;s an extra stuff taking place if the getter setter serve no purpose it&rsquo;s better to not have them in the first place.</p>
<p>prefix the member variable with an underscore<br>
getter: <code>get_variable_name</code><br>
setter: <code>set_variable_name</code></p>
<p>Redundant:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">set_is_in_battle</span><span class="p">(</span><span class="nx">new_state</span><span class="p">:</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">void</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nx">is_in_battle</span> <span class="p">=</span> <span class="nx">new_state</span>
</span></span></code></pre></div><p>Reasonable:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">set_is_in_battle</span><span class="p">(</span><span class="nx">new_state</span><span class="p">:</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">void</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">new_state</span> <span class="o">==</span> <span class="kc">true</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">battle_timer</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">is_in_battle</span> <span class="p">=</span> <span class="nx">new_state</span>
</span></span><span class="line"><span class="cl">	<span class="nf">emit_signal</span><span class="p">(</span><span class="s">&#34;battle_state_changed&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="exporting-variable">Exporting Variable</h3>
<p>We want our designer workflow to be as frictionless as possible and providing them with the ability to tweak stuff inside without touching the code is a great value and this can be done with expoting the variables.</p>
<p>To export variable we need to prefix our variable with the export keyword followed by the export option variable name and then the type.<br>
Example: <code>export(String, MULTILINE) var skill_description: String</code></p>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Pattern and Architecture</h1>
<h3 id="base-paradigm">Base Paradigm</h3>
<p>The official godot documentation favor traditional OOP over any other paradigm mainly ECS and we&rsquo;re going to follow that, but it&rsquo;s not restricting as in godot also offer a high level composition with scene but it&rsquo;ll be primarily composed with Inheritance</p>
<h3 id="call-down-signal-up">Call Down Signal Up</h3>
<p>As a rule of thumb Parent should manage it&rsquo;s child, and the child shouldn&rsquo;t call the parent directly.
If the child need the parent to do something it should use a signal.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Do
</span></span></span><span class="line"><span class="cl"><span class="c1">// Call Down
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">get_node</span><span class="p">(</span><span class="s">&#34;child&#34;</span><span class="p">).</span><span class="nf">do_something</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Signal Up
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">signal</span> <span class="nx">child_hurt</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">damaged</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="nf">emit_signal</span><span class="p">(</span><span class="s">&#34;child_hurt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_on_child_hurt</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// do_something()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Don&#39;t
</span></span></span><span class="line"><span class="cl"><span class="c1">// Call up
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">get_node</span><span class="p">(</span><span class="s">&#34;../..&#34;</span><span class="p">).</span><span class="nf">parent_do_something</span><span class="p">()</span>
</span></span></code></pre></div><h3 id="inheritance-over-composition">Inheritance over Composition</h3>
<p>As mentioned above godot favor Inheritance over Composition for example A player class would look like this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Entity</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Character</span>
</span></span></code></pre></div><p>instead of</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Character</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Control</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sprite</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span>
</span></span></code></pre></div><p>But since godot support combining scens togther it will usually looks like this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">KinematicBody2D</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Entity</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Character</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span><span class="p">&gt;</span> <span class="nx">Sprite</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span><span class="p">&gt;</span> <span class="nx">Area2D</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Hitbox</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span><span class="p">&gt;</span> <span class="nx">Area2d</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Hurtbox</span>
</span></span><span class="line"><span class="cl">	<span class="o">-</span><span class="p">&gt;</span> <span class="nx">Node2D</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">Weapon</span>
</span></span></code></pre></div><p>In this specific project, we should encourage shallow Inheritance but wide.</p>
<h3 id="context-based-coupling">Context Based Coupling</h3>
<p>Objects should be coupled when they&rsquo;re related enough.<br>
Example:<br>
A player will have a sprite and this instance of sprite is specifically exist for the player itself so any other object will not cares about its existence is the character base class therefore it&rsquo;s safe to tightly couple them.</p>
<p>If it&rsquo;s not related enough, do not couple them<br>
Example:<br>
An npc have the ability to prompt dialog, so at a first glance it is reasonable to put the dialog node inside the scene tree of that NPC but dialog can also can be called other than NPC so it&rsquo;s a bad idea to couple them together, if this is the case please refer to Global Signal.</p>
<h3 id="signal-and-global-signal">Signal and Global Signal</h3>
<p>This is an extennsion of the regular Signal pattern the regular signal pattern usually used when a child needs to notify its parent that something happened, if that&rsquo;s the case a regular signal will do wonders but when other Node needs to know something happened but doesn&rsquo;t have a direct connection to the Node that&rsquo;s when we should use Global Signal.</p>
<p>We will use a forbidden technique here:<br>
<strong>Singleton</strong></p>
<p>Calm dowm, this is probably one of the safest singleton that we can use because it doesn&rsquo;t create any tight coupling<br>
It will only provide an easy access to connect a signal.
Example:<br>
HUD &lt;-&gt; Global Signal &lt;-&gt; Character<br>
Character will send a signal that something happened but doesn&rsquo;t care who received that signal so even when the signal sender is gone there will be no crash since there&rsquo;s no direct donnection</p>
<p>So when to use Global Signal?<br>
We want to use signal if two or more object cares about it&rsquo;s significance<br>
Example:<br>
When enemy hitbox enters player&rsquo;s hurtbox the player base class needs to know that it happened so it can reduce the player&rsquo;s health and at the same time the UI also needs to know that to update the Health Bar.</p>
<p>When to not use Global Signal?<br>
If the receiver has a more convinient way to connect to the signal then it&rsquo;s best to not use a Global Signal</p>
<p>So there will be a singleton named SignalManager that&rsquo;ll act as a bridge between nodes, and any node can send and receive signal to and from this singleton.</p>
<h3 id="assumption-is-evil">Assumption is Evil</h3>
<p>Do not assume that something will exist, that&rsquo;s a quick and easy way to create a debugging hell.</p>
<p>For example:<br>
The enemy needs player position at all times for it to works, this is an assumption it assumes that the player will exist no matter what but in reality this is hard to achieve, the enemy ai can exist before the player or the player may die and dissapear from meory in that case the entire game will break.</p>
<p>Since GDScript is not enforcing any kind of safety regarding this we have to improvise and restrain ourself from using unsafe reference.</p>
<p>Unsafe refrence usually is a fruit of a quick solution that our head conjure and more often than not the first solution that came into our head isn&rsquo;t the greatest, so just keep in mind that when we create an unsafe reference there might be a better way of doing it.</p>
<h3 id="finite-state-machine">Finite State Machine</h3>
<p>We&rsquo;ll be using FSM to manage controlled entity, because it&rsquo;s simple enough to impelement but more importantly controlled entity is predictable this prevent the FSM to blow up in lines, and we&rsquo;re not going to use it to control uncontrolled entity.</p>
<p>For the current implementation of the State Machine please read the code under <code>common/state_machine.gd</code> it heavily use polymorphism to generalize things.</p>
<h3 id="behaviour-tree">Behaviour Tree</h3>
<p>This is a solution to define the behaviour of an uncontrolled entity, Altho this is way more boiler plate up front and is harder to understand but it ultimately better for complex but predictable behavior.</p>
<p>If we&rsquo;re using FSM for contorlling enemy behavior it can work for simpler enemy but at a certain threshold even adding just one state will require a lot of modification to existing code and that&rsquo;s less than desirable with Behaviour Tree adding new behavior is more cost effective, and somewhere down the road we&rsquo;ll a boss enemy which will definitely have a lot behavior and that&rsquo;s going to be realy messy.</p>
<p>We&rsquo;re not gonna implement our own Behaviour Tree instead we&rsquo;re going to use a Plugin for it.</p>
<h3 id="singleton">Singleton</h3>
<p>I know, I know, I&rsquo;ve been saying that I hate this one pattern but it&rsquo;s somewhat unavoidable there&rsquo;s no escaping it, we&rsquo;re just going to have to use it better.</p>
<p>As a rule of them if the singleton can exist in another game without a lot of modification then it&rsquo;s generic enough to be a singleton after all most of the problem with signleton is the tight coupling and it it&rsquo;s not tight and just provide an easy acess to something then yeah that&rsquo;s nice.</p>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Refactoring</h1>
<h3 id="why-we-refactor">Why we refactor</h3>
<ul>
<li>Makes the code easier to understand</li>
<li>It helps us find bugs</li>
<li>It prevent spaghet reach a critical point</li>
<li>It will be a time saver in the long run</li>
</ul>
<h3 id="when-to-refactor">When to refactor</h3>
<p>Traditionally we should refactor when the same code is written three times and when it&rsquo;s startig to become hard to understand. But in this project we&rsquo;ll do it after every feature added.</p>
<h3 id="signs-of-spaghettification">Signs of spaghettification</h3>
<p>This is what we need to refactor if any of this are true then it&rsquo;s begging to be refactored:</p>
<ul>
<li>Duplicated code</li>
<li>Hard to understand function / variable name</li>
<li>Long ass function</li>
<li>Long parameter list (unless it&rsquo;s a constructor)</li>
<li>Global data</li>
<li>Mutable data</li>
<li>Divergent change</li>
<li>Repeated Switch</li>
<li>Deeply nested loops</li>
<li>Large class</li>
<li>Comments</li>
</ul>
<p>To be honest we don&rsquo;t really need a long list of what to refactor because deep within we already know what&rsquo;s fucked up and what&rsquo;s perfectly fine.</p>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Testing</h1>
<h3 id="why-testing">Why Testing</h3>
<p>There&rsquo;s a lot of benefits that come with testing but primarily we need to test our code for these reasons:</p>
<ul>
<li>It discourage tight coupling</li>
<li>It Improves our design</li>
<li>It saves time <em>in the long run</em></li>
</ul>
<h3 id="how">How</h3>
<p>We&rsquo;re going to use GUT plugin for testing, it works like any other testing tool so there&rsquo;s no need of further explanation because it&rsquo;s just generic unit testing.</p>
<p>One thing to note that if the scene really needs a global data at the very least use depedency injection instead of tight coupling.</p>

            <footer class="footline">
            </footer>
          </article>
    
          <article>

<h1>Versioning</h1>
<p>We&rsquo;re not going to use any conventional versioning here, we&rsquo;re going to use our own versioning method which is <code>Version Milestone: Codename</code><br>
Example: <code>Combat Ready: Chamomile</code><br>
For the code name we&rsquo;re going to use flower name to be inline with the recurring theme of the game.</p>
<p>Since we won&rsquo;t do any patch after the release it&rsquo;s not neccesary to use semantic versioning.</p>

            <footer class="footline">
            </footer>
          </article>
          </section>
          </section>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
          <style>
            #logo img,
            #logo img * {
              color: #282828;
              color: var(--MENU-SECTIONS-BG-color);
              fill: #282828 !important;
              fill: var(--MENU-SECTIONS-BG-color) !important;
              opacity: .945;
            }
            a#logo {
              color: #282828;
              color: var(--MENU-SECTIONS-BG-color);
              font-family: 'Work Sans', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;
              font-size: 24px;
              font-weight: 300;
              margin-top: -13px;
              white-space: nowrap;
            }
            a#logo:hover {
              color: #282828;
              color: var(--MENU-SECTIONS-BG-color);
            }
            #logo img {
              margin-bottom: -20px;
              margin-left: -25.5px;
								webkit-transform: scaleX(-1);
								transform: scaleX(-1);
            }
            @media only all and (max-width: 59.938em) {
              a#logo {
                font-size: 25px;
                margin-top: -3px;
              }
              #logo img {
                margin-bottom: -12px;
              }
            }
            @media all and (-ms-high-contrast:none) {
              /* IE11s understanding of positioning is weird at best */
              a#logo {
                margin-top: -58px;
              }
              #logo img {
                margin-bottom: -62px;
              }
            }
          </style>
          <a id="logo" href="/">
						<img height="50"  src="https://cdn.discordapp.com/attachments/825577206696771664/984383862203379722/emu_head.png"/>
						prosperosus doc
          </a>

        </div>
        <div class="searchbox default-animation">
          <label for="search-by"><i class="fas fa-search"></i></label>
          <input data-search-input id="search-by" type="search" placeholder="Search...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script src="/js/lunr.min.js?1669134270"></script>
        <script src="/js/auto-complete.js?1669134270"></script>
        <script src="/js/search.js?1669134270"></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics collapsible-menu">
          <li data-nav-id="/general/" title="General" class="dd-item"><input type="checkbox" id="section-1f0054c808cdc74bb235e28a0afa39e9" class="toggle"/><label for="section-1f0054c808cdc74bb235e28a0afa39e9" ></label><a href="/general/">General<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/general/introduction/" title="Introduction" class="dd-item"><a href="/general/introduction/">Introduction<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/general/milestones/" title="Milestones" class="dd-item"><a href="/general/milestones/">Milestones<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/general/godot4-migration/" title="Godot 4 Migration" class="dd-item"><a href="/general/godot4-migration/">Godot 4 Migration<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/game-design/" title="Game Design" class="dd-item"><input type="checkbox" id="section-b7ef76c9bba23d547ac82da61dec3215" class="toggle"/><label for="section-b7ef76c9bba23d547ac82da61dec3215" ></label><a href="/game-design/">Game Design<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/game-design/blessing/" title="Blessing" class="dd-item"><a href="/game-design/blessing/">Blessing<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/game-design/boss/" title="Boss" class="dd-item"><a href="/game-design/boss/">Boss<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/game-design/character/" title="Character" class="dd-item"><a href="/game-design/character/">Character<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/game-design/consumable/" title="Consumable" class="dd-item"><a href="/game-design/consumable/">Consumable<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/game-design/enemy/" title="Enemy" class="dd-item"><a href="/game-design/enemy/">Enemy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/game-design/weapon/" title="Weapon" class="dd-item"><a href="/game-design/weapon/">Weapon<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/development/" title="Development" class="dd-item"><input type="checkbox" id="section-4f0a8856bebd6a1716664666c2720c57" class="toggle"/><label for="section-4f0a8856bebd6a1716664666c2720c57" ></label><a href="/development/">Development<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/development/design_philosophy/" title="Design Philosopy" class="dd-item"><a href="/development/design_philosophy/">Design Philosopy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/development/code_guidlines/" title="Code Guidelines" class="dd-item"><a href="/development/code_guidlines/">Code Guidelines<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/development/pattern_and_architecture/" title="Pattern and Architecture" class="dd-item"><a href="/development/pattern_and_architecture/">Pattern and Architecture<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/development/refactoring/" title="Refactoring" class="dd-item"><a href="/development/refactoring/">Refactoring<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/development/testing/" title="Testing" class="dd-item"><a href="/development/testing/">Testing<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/development/versioning/" title="Versioning" class="dd-item"><a href="/development/versioning/">Versioning<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"/>
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <a class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <a class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-variant" onchange="variants.changeVariant( this.value );">
                    <option id="relearn-dark" value="relearn-dark" selected>Relearn Dark</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
              <script>variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">
	    <p></p>

        </div>
      </div>
    </aside>

    <script src="/js/clipboard.min.js?1669134270"></script>
    <script src="/js/perfect-scrollbar.min.js?1669134270"></script>
    <script src="/js/featherlight.min.js?1669134270"></script>
    <script src="/js/theme.js?1669134270"></script>
  </body>
</html>
